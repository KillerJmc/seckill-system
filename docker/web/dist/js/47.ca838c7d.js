"use strict";(self["webpackChunkseckill_system_web"]=self["webpackChunkseckill_system_web"]||[]).push([[47],{47:function(e,t,l){l.r(t),l.d(t,{default:function(){return J}});var i=l(311);const a=e=>((0,i.pushScopeId)("data-v-40a9e839"),e=e(),(0,i.popScopeId)(),e),n={class:"main"},c={class:"header"},o=a((()=>(0,i.createElementVNode)("div",{class:"left-block"},null,-1))),r=a((()=>(0,i.createElementVNode)("div",{class:"title"},[(0,i.createElementVNode)("p",null,"Lingyuangou")],-1))),s=a((()=>(0,i.createElementVNode)("div",{class:"right-block"},null,-1))),m={class:"account-bar"},d=a((()=>(0,i.createElementVNode)("div",{class:"account-info"},null,-1))),p={class:"account-name"},u={class:"bg"},y={class:"main-box"},h={class:"seckill-title"},f={class:"seckill-time"},v={class:"desc-box"},N=a((()=>(0,i.createElementVNode)("p",{class:"title"},"产品简介",-1))),V={class:"desc"},E={class:"rule-box"},g=a((()=>(0,i.createElementVNode)("p",{class:"title"},"秒杀规则",-1))),x={class:"rule"},S=a((()=>(0,i.createElementVNode)("br",null,null,-1))),k=a((()=>(0,i.createElementVNode)("br",null,null,-1))),b=a((()=>(0,i.createElementVNode)("br",null,null,-1))),D=a((()=>(0,i.createElementVNode)("br",null,null,-1))),T=a((()=>(0,i.createElementVNode)("br",null,null,-1))),w=a((()=>(0,i.createElementVNode)("br",null,null,-1))),C={style:{"text-align":"left","padding-left":"70px"}},A=a((()=>(0,i.createElementVNode)("p",null,"申请人必须满足以下条件",-1))),$=a((()=>(0,i.createElementVNode)("br",null,null,-1)));function B(e,t,l,a,B,O){const _=(0,i.resolveComponent)("confirm");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,[o,r,s,(0,i.createElementVNode)("div",m,[d,(0,i.createElementVNode)("div",p,[(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.customer.name),1)]),(0,i.createElementVNode)("div",{class:"log-out",onClick:t[0]||(t[0]=(...e)=>O.logOut&&O.logOut(...e))},"退出登录")])]),(0,i.createElementVNode)("div",u,[(0,i.createElementVNode)("div",y,[(0,i.createElementVNode)("p",h,(0,i.toDisplayString)(e.activity.product.name),1),(0,i.createElementVNode)("p",f,"秒杀开始时间："+(0,i.toDisplayString)(e.activity.startTime),1),(0,i.createElementVNode)("button",{class:"button",onClick:t[1]||(t[1]=(...e)=>O.applyButton&&O.applyButton(...e))},"申请购买")]),(0,i.createElementVNode)("div",v,[N,(0,i.createElementVNode)("p",V,(0,i.toDisplayString)(e.activity.product.info),1)]),(0,i.createElementVNode)("div",E,[g,(0,i.createElementVNode)("p",x,[(0,i.createTextVNode)(" 是否需要有工作：    "+(0,i.toDisplayString)(e.activity.rule.workStatus?"是":"否")+" ",1),S,(0,i.createTextVNode)(" 不能处于失信名单中：  "+(0,i.toDisplayString)(e.activity.rule.inCreditBlacklist?"否":"是")+" ",1),k,(0,i.createTextVNode)(" 年龄限制：       "+(0,i.toDisplayString)(e.activity.rule.minAge)+"~"+(0,i.toDisplayString)(e.activity.rule.maxAge)+"岁 ",1),b,(0,i.createTextVNode)(" 三年内最多逾期次数：  "+(0,i.toDisplayString)(e.activity.rule.maxOverdueTimes)+"次 ",1),D,(0,i.createTextVNode)(" 三年内最多逾期天数：  "+(0,i.toDisplayString)(e.activity.rule.maxOverdueDays)+"天 ",1),T,(0,i.createTextVNode)(" 三年内最多逾期金额：  "+(0,i.toDisplayString)(e.activity.rule.maxOverdueMoney)+"元 ",1),w])])]),(0,i.createVNode)(_,{ref:"confirmApply",onConfirm:O.apply},{content:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",C,[A,$,(0,i.createElementVNode)("p",null,"是否需要有工作："+(0,i.toDisplayString)(e.activity.rule.workStatus?"是":"否"),1),(0,i.createElementVNode)("p",null,"不能处于失信名单中："+(0,i.toDisplayString)(e.activity.rule.inCreditBlacklist?"否":"是"),1),(0,i.createElementVNode)("p",null,"年龄限制："+(0,i.toDisplayString)(e.activity.rule.minAge)+"~"+(0,i.toDisplayString)(e.activity.rule.maxAge)+"岁",1),(0,i.createElementVNode)("p",null,"三年内最多逾期次数："+(0,i.toDisplayString)(e.activity.rule.maxOverdueTimes)+"次",1),(0,i.createElementVNode)("p",null,"三年内最多逾期天数："+(0,i.toDisplayString)(e.activity.rule.maxOverdueDays)+"天",1),(0,i.createElementVNode)("p",null,"三年内最多逾期金额："+(0,i.toDisplayString)(e.activity.rule.maxOverdueMoney)+"元",1)])])),_:1},8,["onConfirm"]),(0,i.createVNode)(_,{ref:"confirmApplyResult",onConfirm:O.applyResult},null,8,["onConfirm"])])}var O=l(163),_=l(442);const I={key:0,class:"my-confirm"},R={class:"confirm-content-wrap"},P={class:"my-confirm-title"},L={class:"my-confirm-content"},Z={class:"my-operation"},j={class:"my-btn-text"},M={class:"my-btn-text my-border-right"};function Y(e,t,l,a,n,c){return(0,i.openBlock)(),(0,i.createBlock)(i.Transition,{name:"confirm-fade"},{default:(0,i.withCtx)((()=>[n.isShowConfirm?((0,i.openBlock)(),(0,i.createElementBlock)("div",I,[(0,i.createElementVNode)("div",R,[(0,i.createElementVNode)("h3",P,(0,i.toDisplayString)(n.title),1),(0,i.createElementVNode)("p",L,[(0,i.renderSlot)(e.$slots,"content",{},(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(this.content),1)]),!0)]),(0,i.createElementVNode)("div",Z,[(0,i.createElementVNode)("div",{class:"confirm-btn",onClick:t[0]||(t[0]=(...e)=>c.confirm&&c.confirm(...e))},[(0,i.createElementVNode)("p",j,(0,i.toDisplayString)(n.confirmText),1)]),"confirm"===n.type?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"my-cancel-btn",onClick:t[1]||(t[1]=(...e)=>c.cancel&&c.cancel(...e))},[(0,i.createElementVNode)("p",M,(0,i.toDisplayString)(n.cancelText),1)])):(0,i.createCommentVNode)("",!0)])])])):(0,i.createCommentVNode)("",!0)])),_:3})}var F={name:"Confirm",data(){return{isShowConfirm:!1,title:"",content:"",cancelText:"",confirmText:"",type:"",data:{}}},methods:{show(e){"[object Object]"===Object.prototype.toString.call(e)&&(this.title=e.title||"操作提示",this.content=e.content||this.content||"确认吗？",this.confirmText=e.confirmText||"确认",this.cancelText=e.cancelText||"取消",this.type=e.type||"confirm",this.data=e.data||this.data),this.isShowConfirm=!0},hidden(){this.isShowConfirm=!1,this.titleText="操作提示",this.cancelText="取消",this.confirmText="确认",this.type="confirm"},confirm(){this.$emit("confirm"),this.hidden()},cancel(){this.$emit("cancel"),this.hidden()}}},W=l(89);const q=(0,W.Z)(F,[["render",Y],["__scopeId","data-v-0b2adae2"]]);var z=q,G={name:"Apply",components:{Confirm:z},data:()=>({customer:{name:"",canApply:!1},activity:{startTime:"",product:{name:"",info:""},activityInfo:"",rule:{workStatus:!0,inCreditBlacklist:!1,minAge:0,maxAge:0,maxOverdueTimes:0,maxOverdueDays:0,maxOverdueMoney:0}}}),async mounted(){await this.init()},methods:{async init(){_.W.verify()||await this.$router.push("/");let e=await this.$store.dispatch("customer/getInfo"),t=await this.$store.dispatch("activity/getCurrent");500!==e.code&&500!==t.code||await this.$router.push("/"),this.customer=e.data,this.activity=t.data},applyButton(){this.$refs.confirmApply.show({title:"申请须知",confirmText:"确定申请"})},async apply(){if(!this.customer.canApply)return void this.$refs.confirmApplyResult.show({title:"申请结果",type:"alert",content:O.Z.APPLY_FAILED});let e=await this.$store.dispatch("activity/apply");this.$refs.confirmApplyResult.show({title:"申请结果",type:"alert",content:e.message,data:e})},async applyResult(){let e=this.$refs.confirmApplyResult.data;200!==e.code&&e.message!==O.Z.APPLY_REPEAT||await this.$router.push("/seckill")},logOut(){this.$store.dispatch("settings/logout"),this.$router.push("/")}}};const H=(0,W.Z)(G,[["render",B],["__scopeId","data-v-40a9e839"]]);var J=H}}]);
//# sourceMappingURL=47.ca838c7d.js.map